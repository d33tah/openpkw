## Kolejność działań wykonywana przez kalkulator obwodowy

# 1. instalacja
	- uruchomić plik z roszerzeniem .exe umieszczony na płycie instalacyjnej lub pobrać ze strony: https://......
	- okno powitalne, klawisz Dalej
	- okno z wyborem/zmianą katalogu instalacji 
		(opcje: utwórz automatycznie / wybierz/utwórz nowy  katalog) potwierdzenie wyboru.

	- Instalacja zakończona  klawisz Zakończ
	- okno z wyborem/zmianą katalogu na pliki wynikowe (protokoły) 
		(opcje: utwórz automatycznie / wybierz/utwórz nowy  katalog) potwierdzenie wyboru.

Logowanie do systemu - prośba o wskazanie pliku z licencją operatora/przewodniczącego

# 2. wytworzenie lub wczytanie pliku licencji (operatora, przewodniczącego OKW) z nośnika.
	- operator otrzymuje login i hasło od pełnomocnika w gminie/okręgu (wytworzone wcześniej
	w Centrum Wydawania Licencji KBW)

* 2.1 wytworzenie w kalkulatorze
	- Menu opcja Żądanie licencji
	- łączenie z systemem CWL
	- podanie login i hasło
	- wpisanie hasła do licencji (utworzone przez usera - Wymagania: co najmniej 6 znaków w tym jedna duża litera,
	jedna mała litera i jedna cyfra - nie może zawierać polskich znaków diakrytycznych))
	- import pliku licencji/ zapisanie na dysku lokalnym

- jeżeli licencja wytworzona została w kalkulatorze musi być wykonana kopia zapasowa licencji na nośnik zewnętrzny

* 2.2 wczytanie licencji z nośnika zewnętrzego
	- wskazanie nośnika zewnętrznego z plikiem licencji
	- podanie login i hasło
	- import pliku licencji/ zapisanie na dysku lokalnym

każdorazowe wejście do kalkulatora musi być poprzedzone sprawdzeniem pliku licencji i podaniem hasła licencji.
		
# 3. pobranie z sieci lub wczytanie plików .klk z nośnika.
	* plik z danymi o listach i kandydatach zarejestrowanych w danym okręgu;
	* plik dla całej gminy z danymi o wyborach i geografii wyborczej;
	* plik z informacjami o składzie komisji obwodowej;
	* plik zawierający warunki poprawności i blokowania protokołów z zasadami walidacji).
• rodzaj wczytanego pliku .klk (rodzaj akcji wyborczej) rozpoznawany po licencji operatora/przewodniczącego  
• data i godzina wygenerowania na serwerze pliku .klk informuje czy plik jest aktualny

# 4. Weryfikacja operatora (wizualna)
	• Weryfikacja poprawności wersji oprogramowania (nr wersji, rodzaj systemu).
	• Weryfikacja poprawności danych definicyjnych obwodów
	• Wykonanie wydruków protokołów "pustych" (bez barkodów).

# 5. wybór rodzaju akcji wyborczej / automatyczna walidacja protokołu
	• utworzenie protokołu
	• dwukrotne wprowadzanie danych z brudnopisu.
	• wpisanie uwag do protokołu
	• edycja składu komisji
	• edycja protokołu (archiwizacja zmian)
	• usunięcie protokołu (numerowanie wersji)

# 6. Podpisywanie / wysyłanie / drukowanie




## - Podpisanie wszystkich protokołów obwodowych licencją Przewodniczącego Obwodowej Komisji Wyborczej.

* Po podpisaniu protokołu program automatycznie dokonuje próby wysłania protokołu przez
Internet na serwery KBW. O powodzeniu tej próby (lub niepowodzeniu) operator jest poinformowany stosownym komunikatem.

* Niezależnie od wyniku ww. program przechodzi do zapisu protokołu na dysk w postaci pliku
.xml.

* Następnie program przechodzi automatycznie do funkcji drukowania protokołu. Operator drukuje 
1 egzemplarz protokołu głosowania w obwodzie wraz ze stroną zawierającą raport ostrzeżeń (jeśli wystąpiły). Sprawdzenie poprawnoci wydrukowanych brakodów, ewentualnie QR kod.  

* Komisja weryfikuje zgodność wydruku z projektem (brudnopisem) protokołu i przystępuje do
składania podpisów.

* W przypadku stwierdzenia różnic, operator nanosi stosowną poprawkę i ponownie drukuje protokół (numerowanie wersji).
Jeśli nie będzie technicznej możliwości poprawienia istniejącego protokołu należy utworzyć nowy protokół
i ponownie wprowadzić wszystkie dane.(numerowanie wersji)

	# - Wysłanie wszystkich podpisanych protokołów obwodowych przez Internet lub zapisanie na nośnik zewnętrzny
	i dostarczenie do właściwej Rejonowej lub Okręgowej Komisji Wyborczej.

* Jeżeli protokoły nie zostały automatycznie wysłane na serwery KBW a w lokalu Komisji jest sprawne łącze
do Internetu, operator ponawia próbę wysłania protokołu – funkcja „Wyślij”.
	
	# - Wykonanie wydruków protokołów, raportu ostrzeżeń i weryfikacja poprawności tych wydruków.

* każda zamiana dokonana w wersji elektronicznej protokołu zmienia jego sumę kontrolną widoczną na wydruku.
Niezgodność sum kontrolnych wykryta przez Terenową/Okręgową KW skutkuje odrzuceniem protokołu.
Po zmianach należy więc ponownie wydrukować wszystkie egzemplarze zmienionego protokołu.
Podmiana pojedynczych stron protokołu jest niedopuszczalna!

• Archiwizacja protokołów na nośniku zewnętrznym.

# 7. Archiwizacja
• Wykonanie kopii zapasowej danych z kalkulatora i archiwizacja na nośniku zewnętrznym (np. CDROM). 

UWAGA
(wersja dla komisji bez obsługi informatycznej)
Zgodnie z uchwałą PKW z dnia 4.11.2014 r.

"W przypadku gdy istnieje możliwość sporządzenia projektów protokołów głosowania w „Platformie wyborczej”,
a jedynie brak jest możliwości dokonania transmisji danych do terytorialnych komisji wyborczych, 
komisje sporządzają projekty protokołów i jeżeli jest taka możliwość techniczna zapisują 
w „Platformie wyborczej”, uwierzytelnione licencją przewodniczącego komisji lub jego zastępcy dane 
z protokołów na nośniki elektroniczne. Nośnik przekazuje się właściwej terytorialnej komisji wyborczej 
wraz z raportem ostrzeżeń (jeżeli został sporządzony), zgodnie z powołanymi wytycznymi.
Jeżeli nie ma możliwości zapisania danych na nośniku, komisja przekazuje terytorialnej
komisji wyborczej protokół i ewentualnie raport ostrzeżeń (w wersji papierowej)."

Pytanie:
* 1. Jak rozwiązać sprawę odblokowania drukowania po 'nie wysłaniu" protokołu elektronicznie?

w SIWZ z 2014 r, jest zapis:

	7) zapewnienie mechanizmu odblokowania możliwości wydruku danego protokołu po akceptacji 
	terytorialnej komisji wyborczej (przekazywanie treści zablokowanych danych i ostrzeżeń
	oraz przekazywanie informacji umożliwiającej wydruk protokołu wyników głosowania), 
	przekazanego do kalkulatora w postaci kodu do wprowadzenia lub pobrania z serwisu 
	internetowego komisji nadrzędnej,

	8) zapewnienie możliwości całkowitego wyłączenia blokady wydruku opisanego w ppkt 6 przez 
	administratora PKW,  dla kalkulatorów wyborczych posiadających dostęp do sieci publicznej;
